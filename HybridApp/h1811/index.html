<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
	<style>
		#imglist img{width:100%}
	</style>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
		
		
    </script>
</head>
<body>
	<h1>Hello h5+jjkkkkj</h1>
	<button type="button" class="mui-btn mui-btn-royal mui-btn-outlined" id="btn">拍照</button> 
	<div class="mui-content">
    <div class="mui-row" id="imglist">
        <div class="mui-col-sm-3">
        </div>
    </div>
</div>
	<script>
		let imglist = document.getElementById('imglist');
		let btn = document.getElementById('btn')
		// 扩展API加载完毕后调用onPlusReady回调函数 
		document.addEventListener( "plusready", ()=>{
			// 通过camera接口下的getCamera得到摄像头对象
			let cmr = plus.camera.getCamera(2);
			console.log(cmr)
			
			btn.onclick = ()=>{
				// 拍照
				cmr.captureImage((path)=>{
					//拍照成功回调
					
					let imgurl = plus.io.convertLocalFileSystemURL( path );
					console.log(path,imgurl)
					
					let li = document.createElement('div');
					li.className = 'mui-col-sm-3'
					let img  = document.createElement('img');
					img.src = imgurl;
					li.appendChild(img);
					imglist.appendChild(li);
					
				})
			}
			
		}, false );
		
	</script>
</body>
</html>